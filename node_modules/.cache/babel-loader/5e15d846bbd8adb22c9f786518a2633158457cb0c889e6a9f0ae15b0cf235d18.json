{"ast":null,"code":"import _slicedToArray from\"/Users/davidbeninson/Desktop/Desktop/qr/QR/QR/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useRef}from\"react\";import qrcode from\"qrcode-generator\";import'../style/Pages.css';import'primeicons/primeicons.css';import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function MyComponent(){var refLink=useRef(null);var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),qrcodeString=_useState2[0],setQrcodeString=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),web=_useState4[0],setweb=_useState4[1];var handleCreateQR=function handleCreateQR(){if(!refLink.current||web==='')return;var data=refLink.current.value;var typeNumber=4;var errorCorrectionLevel=\"L\";var qr=qrcode(typeNumber,errorCorrectionLevel);qr.addData(data);qr.make();var canvas=document.createElement(\"canvas\");canvas.width=qr.getModuleCount()*5;canvas.height=qr.getModuleCount()*5;var ctx=canvas.getContext(\"2d\");for(var row=0;row<qr.getModuleCount();row++){for(var col=0;col<qr.getModuleCount();col++){ctx.fillStyle=qr.isDark(row,col)?\"#000\":\"rgba(0, 0, 0, 0)\";ctx.fillRect(col*5,row*5,5,5);}}setQrcodeString(canvas.toDataURL());};var handleSave=function handleSave(){// check if QR code has been generated\nif(qrcodeString){// create a link element\nvar link=document.createElement(\"a\");// set link's href to QR code image data\nlink.href=qrcodeString;// set the file name\nlink.download=\"qrcode.png\";// trigger the download\nlink.click();}else{alert(\"QR code has not been generated yet!\");}};return/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\"},children:[/*#__PURE__*/_jsx(Link,{id:\"homePage\",to:'/',children:/*#__PURE__*/_jsx(\"i\",{className:\"pi pi-arrow-left\"})}),/*#__PURE__*/_jsx(\"h1\",{children:\"create Qr for a Web\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",ref:refLink,value:web,onChange:function onChange(e){return setweb(e.target.value);},placeholder:\"Enter web page\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCreateQR,children:\"Create QR\"}),qrcodeString?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSave,children:\"Save\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"img\",{src:qrcodeString,alt:\"QR code\"})]}):null]});}export default MyComponent;","map":{"version":3,"names":["React","useState","useRef","qrcode","Link","MyComponent","refLink","qrcodeString","setQrcodeString","web","setweb","handleCreateQR","current","data","value","typeNumber","errorCorrectionLevel","qr","addData","make","canvas","document","createElement","width","getModuleCount","height","ctx","getContext","row","col","fillStyle","isDark","fillRect","toDataURL","handleSave","link","href","download","click","alert","textAlign","e","target"],"sources":["/Users/davidbeninson/Desktop/Desktop/qr/QR/QR/src/componentas/Qr_web.js"],"sourcesContent":["import React, { useState,  useRef } from \"react\";\nimport qrcode from \"qrcode-generator\";\nimport '../style/Pages.css';\nimport 'primeicons/primeicons.css';\nimport { Link } from \"react-router-dom\";\n\nfunction MyComponent() {\n  const refLink = useRef(null);\n  const [qrcodeString, setQrcodeString] = useState(\"\");\nconst [web, setweb] = useState('')\n  const handleCreateQR = () => {\n    if(!refLink.current || web === '')return\n      const data = refLink.current.value;\n      const typeNumber = 4;\n      const errorCorrectionLevel = \"L\";\n      const qr = qrcode(typeNumber, errorCorrectionLevel);\n      qr.addData(data);\n      qr.make();\n\n      const canvas = document.createElement(\"canvas\");\n      canvas.width = qr.getModuleCount() * 5;\n      canvas.height = qr.getModuleCount() * 5;\n      const ctx = canvas.getContext(\"2d\");\n      for (let row = 0; row < qr.getModuleCount(); row++) {\n        for (let col = 0; col < qr.getModuleCount(); col++) {\n          ctx.fillStyle = qr.isDark(row, col) ? \"#000\" :  \"rgba(0, 0, 0, 0)\";\n          ctx.fillRect(col * 5, row * 5, 5, 5);\n        }\n      }\n      setQrcodeString(canvas.toDataURL());\n  };\n\n  const handleSave = () => {\n    // check if QR code has been generated\n    if (qrcodeString) {\n      // create a link element\n      const link = document.createElement(\"a\");\n      // set link's href to QR code image data\n      link.href = qrcodeString;\n      // set the file name\n      link.download = \"qrcode.png\";\n      // trigger the download\n      link.click();\n    } else {\n      alert(\"QR code has not been generated yet!\");\n    }\n  };\n\n  return (\n    <div style={{ textAlign: \"center\" }}>\n    <Link id=\"homePage\" to={'/'}><i className=\"pi pi-arrow-left\"></i></Link> \n    <h1>create Qr for a Web</h1>\n      <input\n        type=\"text\"\n        ref={refLink}\n        value={web}\n        onChange={(e) => setweb(e.target.value)}\n        placeholder=\"Enter web page\"/>\n      <br />\n      <button\n        onClick={handleCreateQR} >\n        Create QR\n      </button>\n      {qrcodeString ? (\n        <>\n          <button\n            onClick={handleSave}>\n            Save\n          </button>\n          <br />\n          <img\n            src={qrcodeString}\n            alt=\"QR code\"/>\n        </>\n      ) : null}\n    </div>\n  );\n}\nexport default MyComponent;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}